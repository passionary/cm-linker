<!DOCTYPE html>
<html>
<head>
	<title>example</title>
	<meta charset="utf-8">
	<style>
		h1{
			text-align: center;
		}
		#app p{
			color:blue;
		}
		#after p{
			color:green;
		}		
		#main{
			display: -webkit-flex;
			display: -moz-flex;
			display: -ms-flex;
			display: -o-flex;
			display: flex;
			justify-content: space-around;
		}
	</style>
</head>
<body>	
	<h1>Hello</h1>	
	<div id="main">		
		<div id="app"></div>
		<div class="middle"></div>
		<div id="after"></div>
	</div>
	<!-- <script src="training-model.js"></script> -->
<script type="text/javascript" src="../dist/bundle.js"></script>
<script>
	var some = GlobalApi.register('#app', {
		cname:'test',
		template:`<div l-for="o in other">
				<p>
				{{o}}
				</p>				
			</div>			
			<ul l-for="new in news" l-if="data2">
				<li>
					<select name="" id="">						
						<option value="">
							{{new}}
						</option>						
					</select>
				</li>
			</ul>
			<p l-if="data2">
				<p>
					!!!
				</p>
				<p>
				{{data2}}
				</p>				
			</p>
			<button @click="modifyArr" l-for="test in tests">
				click
			</button>
			`,		
		data:{
			data: true,
			data2:false,
			data3:'anything-3',
			tests:['test1','test2','test3!'],
			news:['news1','news2','news3'],
			other:['other1','other2']
		},
		methods:{
			some(){
				this.data2 = !this.data2
			},
			modifyArr(){
				this.other.push('HELLO!!!!!!!')
			}
		}
	})
	GlobalApi.register('#after', {
		cname:'test',
		template:
		`<div l-for="o in other">
				<p>
				{{o}}
				</p>				
			</div>			
			<ul l-for="new in news" l-if="data2">
				<li>
					<select name="" id="">						
						<option value="">
							{{new}}
						</option>						
					</select>
				</li>
			</ul>
			<p l-if="data2">
				<p>
					!!!
				</p>
				<p>
				{{data2}}
				</p>				
			</p>
			<button @click="modifyArr" l-for="test in tests">
				click
			</button>
			<ul l-for="test in tests">
				<li l-for="some in news">
					<p>
						{{some}}
					</p>
					<p>
						{{test}}
					</p>
				</li>
			</ul>
		`,
		data:{
			data: true,
			data2:'',
			data3:'anything-3',
			tests:['test1','test2','test3!'],
			news:['news1','news2','news3'],
			other:['other1','other2']
		},
		methods:{
			some(){
			},
			modifyArr(){
				if(this.data){
					this.tests = [1,2,3]
					this.data = false
				}else{
					this.tests = ['test1','test2','test3!']
					this.data = true
				}
			}
		}
	})
	let data = GlobalApi.register('.middle', {
		cname:'test',
		template:
		`<div l-for="o in other">
				<p>
				{{data3}}
				</p>				
			</div>
			<a l-bind:href="data">
				{{data}}
			</a>
			<input type="text" l-bind:value="data"/>
			<ul l-for="new in tests" l-if="data2">
				<li>
					<select name="" id="">						
						<option value="">
							{{new}}
						</option>						
					</select>
				</li>
			</ul>
			<p l-if="data2">
				<p>
					{{data2}}
				</p>
				<p>
				{{data2}}
				</p>				
			</p>
			<button @click="great">
				попробовать
			</button>
			<ul l-for="test in tests" id="bottom">
				<li l-for="some in news">
					<p>
						{{some}}
					</p>
					<p>
						{{test}}
					</p>
				</li>
			</ul>
		`,
		data:{
			data: false,
			data2:'some data-3',
			data3:'anything-3',
			tests:['test1','test2','test3!'],
			news:['news1','news2','news3'],
			other:['other1','other2']
		},
		methods:{
			great(){
				this.data = !this.data
				if(this.data){
					for(let i=10;i>=0;i--){
						this.tests[i] = i
					}
				}else{
					for(let i=0;i<=10;i++){
						this.tests[i] = 10 - i
					}
				}
			},
			modifyArr(){
				if(this.data){
					this.tests = [1,2,3]
					this.data = false
				}else{
					this.tests = ['test1','test2','test3!']
					this.data = true
				}
			}
		}
	})
</script>
</body>
</html>
