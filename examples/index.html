<!DOCTYPE html>
<html>
<head>
	<title>example</title>
	<meta charset="utf-8">
	<style>
		h1{
			text-align: center;
		}
		#app p{
			color:blue;
		}
		#after p{
			color:green;
		}		
		#main{
			display: -webkit-flex;
			display: -moz-flex;
			display: -ms-flex;
			display: -o-flex;
			display: flex;
			justify-content: space-around;
		}
	</style>
</head>
<body>	
	<h1>Hello</h1>	
	<div id="main">		
		<div id="app"></div>
		<div class="middle"></div>
		<div id="after"></div>
	</div>
	<!-- <script src="training-model.js"></script> -->
<script type="text/javascript" src="../dist/bundle.js"></script>
<script>
	var some = GlobalApi.register('#app', {
		cname:'test',
		template:`
		<div l-for="test in news"><input type="text" /><p><ul><li><p><span><div>{{test}}</div></span></p></li></ul></p><p><select><option>{{data3}}</option></select><ul><li><p><span><div>{{test}}</div></span></p></li></ul></p></div><div><main l-for="o in tests"><select name="" id="" l-for="b in tests"><option value=""><ul><li l-for="test in news"><p><em>{{test}}</em></p><p><span>{{b}}</span></p><p><b>{{o}}</b></p></li></ul></option></select></main></div><aside><nav><section><select name="" id=""><option value=""><ul><span l-for="s in tests"><p>{{data3}}</p></span><p><div>hello!</div></p><li><p>{{data}}</p></li><nav l-for="s in news"><ul><li><p>{{data2}}</p><p>{{data}}</p></li></ul></nav></ul></option></select></section></nav></aside>`,
		data:{
			data: false,
			data2:true,
			data3:'anything-3',
			tests:['test1','test2','test3!'],
			news:['news1','news2','news3'],
			other:['other1','other2']
		},
		methods:{
			some(){
				this.data2 = !this.data2
			},
			modifyArr(){
				this.other.push('HELLO!!!!!!!')
			}
		}
	})
	let test = GlobalApi.register('#after', {
		cname:'test',
		template:
		`
<div l-for="o in other"><p>{{o}}</p></div><ul l-for="new in news" l-if="data2"><li><select name="" id="" l-if="data"><option value="">{{new}}</option></select></li></ul>
<p l-if="data2">
<p>
	<input type="text" value="test" />
</p>
	<p>
		{{data2}}
	</p>
</p>
<button @click="modifyArr" l-for="test in tests">{{data3}}</button><ul l-for="test in tests"><li l-for="some in news"><p>{{some}}</p><p>{{test}}</p></li></ul>
		`,
		data:{
			data: true,
			data2:'some',
			data3:'anything-3',
			tests:['test1','test2','test3!'],
			news:['news1','news2','news3'],
			other:['other1','other2']
		},
		methods:{
			some(){
			},
			modifyArr(){
				if(this.data){
					this.tests = [1,2,3]
					this.data = false
				}else{
					this.tests = ['test1','test2','test3!']
					this.data = true
				}
			}
		}
	})
	let data = GlobalApi.register('.middle', {
		cname:'test',
		template:
		`
<div l-for="o in other"><p>{{data3}}</p></div><a l-bind:href="data2">{{data2}}</a><ul l-for="new in tests" l-if="data2"><li><select name="" id=""><option value="">{{new}}</option></select></li></ul><p l-if="data2"><p>{{data2}}</p><p>{{data2}}</p></p><p><input @input="modifyArr" type="text" /></p><button @click="great">попробовать</button><ul l-for="test in tests" id="bottom"><li l-for="some in news"><p>{{some}}</p><p>{{test}}</p></li></ul>
		`,
		data:{
			data: false,
			data2:'some data-3',
			data3:'anything-3',
			tests:['test1','test2','test3!'],
			news:['news1','news2','news3'],
			other:['other1','other2']
		},
		methods:{
			great(){
				this.data = !this.data
				if(this.data){
					for(let i=10;i>=0;i--){
						this.tests[i] = i
					}
				}else{
					for(let i=0;i<=10;i++){
						this.tests[i] = 10 - i
					}
				}
			},
			modifyArr(e){
				document.onkeydown = (event) => {
					console.log(e.value)
					if(event.key == 'Enter' && e.value == 'clear')
						this.tests = []
				}
			}
		}
	})
</script>
</body>
</html>
